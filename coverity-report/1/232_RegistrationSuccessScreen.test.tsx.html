<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head><title>Coverity error reader: /Users/E0661236/Desktop/brightlayer-ui/blui-react/packages/login-workflow/src/screens/RegistrationSuccessScreen/RegistrationSuccessScreen.test.tsx</title><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head>
<body link="#000000" vlink="#000000"><pre>
<b><a name="line1">1    </a></b>	import React from 'react';
<b><a name="line2">2    </a></b>	import '@testing-library/jest-dom';
<b><a name="line3">3    </a></b>	import { render, cleanup, screen, fireEvent, RenderResult } from '@testing-library/react';
<b><a name="line4">4    </a></b>	import { RegistrationSuccessScreen } from './RegistrationSuccessScreen';
<b><a name="line5">5    </a></b>	import { RegistrationContextProvider, RegistrationWorkflowContextProvider } from '../../contexts';
<b><a name="line6">6    </a></b>	import { SuccessScreenProps } from '../SuccessScreen';
<b><a name="line7">7    </a></b>	import { registrationContextProviderProps } from '../../testUtils';
<b><a name="line8">8    </a></b>	
<b><a name="line9">9    </a></b>	afterEach(cleanup);
<b><a name="line10">10   </a></b>	
<b><a name="line11">11   </a></b>	const registrationWorkflowContextProps = {
<b><a name="line12">12   </a></b>	    currentScreen: 0,
<b><a name="line13">13   </a></b>	    totalScreens: 2,
<b><a name="line14">14   </a></b>	    nextScreen: jest.fn(),
<b><a name="line15">15   </a></b>	    previousScreen: jest.fn(),
<b><a name="line16">16   </a></b>	    screenData: {
<b><a name="line17">17   </a></b>	        Eula: { accepted: true },
<b><a name="line18">18   </a></b>	        CreateAccount: { emailAddress: 'emailAddress@emailAddress.emailAddress' },
<b><a name="line19">19   </a></b>	        VerifyCode: { code: '12345' },
</pre>
<table summary="events" bgcolor=#e0e0e0>
<tr><td><font color="red">
<a name="error:0"></a>
<a name="error"></a>
<!-- merge-key dd15080dad2efb4051241fb69522cb86 -->
<b>(1) Event Sigma main event</b>: </font></td>
<td><font color="red">A secret, such as a password, cryptographic key, or token is stored in plaintext directly in the source code, in an application's properties, or configuration file. Users with access to the secret may then use the secret to access resources that they otherwise would not have access to. Secret type: Password (generic).</font></td>
</tr>
<tr><td><font color="red">
<a name="error:1"></a>
<!-- merge-key dd15080dad2efb4051241fb69522cb86 -->
<b>(2) Event remediation</b>: </font></td>
<td><font color="red">Avoid setting sensitive configuration values as string literals. Instead, these values should be set using variables with the sensitive data loaded from an encrypted file or a secret store.</font></td>
</tr>
</table>
<pre><b><a name="line20">20   </a></b>	        CreatePassword: { password: 'password', confirmPassword: 'confirmPassword' },
<b><a name="line21">21   </a></b>	        AccountDetails: { firstName: 'firstName', lastName: 'lastName' },
<b><a name="line22">22   </a></b>	        Other: { RegistrationSuccessScreen: { organizationName: 'Acme Co.' } },
<b><a name="line23">23   </a></b>	    },
<b><a name="line24">24   </a></b>	    updateScreenData: jest.fn(),
<b><a name="line25">25   </a></b>	};
<b><a name="line26">26   </a></b>	
<b><a name="line27">27   </a></b>	describe('RegistrationSuccessScreen', () =&gt; {
<b><a name="line28">28   </a></b>	    let mockOnNext: any;
<b><a name="line29">29   </a></b>	
<b><a name="line30">30   </a></b>	    afterEach(() =&gt; {
<b><a name="line31">31   </a></b>	        jest.clearAllMocks();
<b><a name="line32">32   </a></b>	    });
<b><a name="line33">33   </a></b>	
<b><a name="line34">34   </a></b>	    beforeEach(() =&gt; {
<b><a name="line35">35   </a></b>	        mockOnNext = jest.fn();
<b><a name="line36">36   </a></b>	    });
<b><a name="line37">37   </a></b>	
<b><a name="line38">38   </a></b>	    const renderer = (props?: SuccessScreenProps): RenderResult =&gt;
<b><a name="line39">39   </a></b>	        render(
<b><a name="line40">40   </a></b>	            &lt;RegistrationContextProvider {...registrationContextProviderProps}&gt;
<b><a name="line41">41   </a></b>	                &lt;RegistrationWorkflowContextProvider {...registrationWorkflowContextProps}&gt;
<b><a name="line42">42   </a></b>	                    &lt;RegistrationSuccessScreen {...props} /&gt;
<b><a name="line43">43   </a></b>	                &lt;/RegistrationWorkflowContextProvider&gt;
<b><a name="line44">44   </a></b>	            &lt;/RegistrationContextProvider&gt;
<b><a name="line45">45   </a></b>	        );
<b><a name="line46">46   </a></b>	
<b><a name="line47">47   </a></b>	    it('renders without crashing', () =&gt; {
<b><a name="line48">48   </a></b>	        renderer();
<b><a name="line49">49   </a></b>	
<b><a name="line50">50   </a></b>	        expect(screen.getByText('Account Created!')).toBeInTheDocument();
<b><a name="line51">51   </a></b>	    });
<b><a name="line52">52   </a></b>	
<b><a name="line53">53   </a></b>	    it('should display email id and organization name on success screen', () =&gt; {
<b><a name="line54">54   </a></b>	        renderer();
<b><a name="line55">55   </a></b>	
<b><a name="line56">56   </a></b>	        expect(screen.getByText('emailAddress@emailAddress.emailAddress')).toBeInTheDocument();
<b><a name="line57">57   </a></b>	        expect(screen.getByText('Acme Co.')).toBeInTheDocument();
<b><a name="line58">58   </a></b>	    });
<b><a name="line59">59   </a></b>	
<b><a name="line60">60   </a></b>	    it('should call onNext, when click on Continue button', () =&gt; {
<b><a name="line61">61   </a></b>	        renderer({
<b><a name="line62">62   </a></b>	            WorkflowCardActionsProps: {
<b><a name="line63">63   </a></b>	                onNext: mockOnNext(),
<b><a name="line64">64   </a></b>	            },
<b><a name="line65">65   </a></b>	        });
<b><a name="line66">66   </a></b>	
<b><a name="line67">67   </a></b>	        const continueButton = screen.getByText('Finish');
<b><a name="line68">68   </a></b>	        expect(continueButton).toBeInTheDocument();
<b><a name="line69">69   </a></b>	        fireEvent.click(continueButton);
<b><a name="line70">70   </a></b>	        expect(mockOnNext).toHaveBeenCalled();
<b><a name="line71">71   </a></b>	    });
<b><a name="line72">72   </a></b>	});
<b><a name="line73">73   </a></b>	


















































</pre></body>
</html>
